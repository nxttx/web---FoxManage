(this.webpackJsonpfoxmanage=this.webpackJsonpfoxmanage||[]).push([[0],{44:function(e,t,s){"use strict";s.r(t);var a=s(0),n=s(1),c=s.n(n),r=s(16),i=s.n(r),l=s(6),o=s(13),d=s(26),j="SET_USEDDATA",u="SET_DOMAINS",b="SET_DATABASES",h="SET_MAILBOXES",m="SET_FACTUREN",O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return t.payload.response;default:return e}},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return t.payload.response;default:return e}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return t.payload.response;default:return e}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return t.payload.response;default:return e}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return t.payload.response;default:return e}},w=Object(o.c)({usedData:O,facturen:x,domains:p,databases:f,mailboxes:v}),N=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.d,g=Object(o.e)(w,N(Object(o.a)(d.a)));Object(o.e)(w);var y=s(27),D=s(28),S=s(18),k=s(32),C=s(31),P="http://Localhost/a_routes/",T=s(3),E=s.n(T),F=s(7),I=s(4);var B=function(e){var t=Object(n.useState)(""),s=Object(I.a)(t,2),c=s[0],r=s[1],i=Object(n.useState)(""),l=Object(I.a)(i,2),o=l[0],d=l[1],j=Object(n.useState)("button is-block is-primary is-fullwidth"),u=Object(I.a)(j,2),b=u[0],h=u[1],m=Object(n.useState)("Please enter your email and password."),O=Object(I.a)(m,2),x=O[0],p=O[1],f=Object(n.useState)("title has-text-grey is-5"),v=Object(I.a)(f,2),w=v[0],N=v[1],g=Object(n.useState)("input"),y=Object(I.a)(g,2),D=y[0],S=y[1];function k(){return(k=Object(F.a)(E.a.mark((function t(s){var a;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s.preventDefault(),!(o.length>=8)){t.next=17;break}return h("button is-block is-primary is-fullwidth is-loading"),t.prev=3,t.next=6,fetch(e.IP+"session.php",{method:"POST",mode:"cors",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"username="+c+"&password="+o});case 6:200===(a=t.sent).status?(h("button is-block is-success is-fullwidth"),e.setCurrentScreen("index")):500===a.status?(p("There was an error."),h("button is-block is-primary is-fullwidth")):(p("Account not found or incorrect password."),N("title has-text-danger is-5"),h("button is-block is-danger is-fullwidth")),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(3),console.log(t.t0),p("There was an error."),h("button is-block is-primary is-fullwidth");case 15:t.next=20;break;case 17:p("Password must be longer than 7 characters."),N("title has-text-danger is-5"),S("input is-danger");case 20:case"end":return t.stop()}}),t,null,[[3,10]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){function t(){return(t=Object(F.a)(E.a.mark((function t(){var s;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e.IP+"session.php",{method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded"},redirect:"follow",referrerPolicy:"no-referrer"});case 2:200===(s=t.sent).status?e.setCurrentScreen("index"):s.status;case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),Object(a.jsx)("div",{className:"hero is-primary is-fullheight",children:Object(a.jsx)("div",{className:"hero-body",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)("div",{className:"columns",children:[Object(a.jsx)("div",{className:"column"}),Object(a.jsxs)("div",{className:"column is-4 has-text-centered",children:[Object(a.jsx)("h3",{className:"title has-text-white",children:"Login"}),Object(a.jsx)("hr",{className:"login-hr"}),Object(a.jsx)("p",{className:"subtitle has-text-white",children:"Login to your manager"}),Object(a.jsxs)("div",{className:"box",children:[Object(a.jsx)("div",{className:w,children:x}),Object(a.jsxs)("form",{onSubmit:function(e){return k.apply(this,arguments)},children:[Object(a.jsxs)("div",{className:"field",children:[Object(a.jsx)("label",{className:"label has-text-left",htmlFor:"username",children:"Username"}),Object(a.jsxs)("div",{className:"control has-icons-left",children:[Object(a.jsx)("input",{autoFocus:!0,className:"input",id:"username",placeholder:"Username",type:"text",value:c,onChange:function(e){r(e.target.value),p("Please enter your email and password."),N("title has-text-grey is-5")}}),Object(a.jsx)("span",{className:"icon is-small is-left",children:Object(a.jsx)("i",{className:"fas fa-user"})})]})]}),Object(a.jsxs)("div",{className:"field",children:[Object(a.jsx)("label",{className:"label has-text-left",htmlFor:"password",children:"Password"}),Object(a.jsxs)("div",{className:"control has-icons-left",children:[Object(a.jsx)("input",{className:D,id:"password",placeholder:"Password",type:"password",value:o,onChange:function(e){d(e.target.value),p("Please enter your email and password."),N("title has-text-grey is-5")}}),Object(a.jsx)("span",{className:"icon is-small is-left",children:Object(a.jsx)("i",{className:"fas fa-lock"})})]})]}),Object(a.jsx)("button",{id:"LoginButton",className:b,children:"Login"})]})]}),Object(a.jsxs)("p",{className:"has-text-grey",children:[Object(a.jsx)("a",{href:"/",children:"Sign Up"})," \xa0\xb7\xa0",Object(a.jsx)("a",{href:"/",children:"Forgot Password"})," \xa0\xb7\xa0",Object(a.jsx)("a",{href:"/",children:"Need Help?"})]})]}),Object(a.jsx)("div",{className:"column"})]})})})})},A=s(12),L=s(5);var z=function(e){function t(){return(t=Object(F.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e.IP+"session.php",{method:"DELETE",headers:{"Content-Type":"application/x-www-form-urlencoded"},redirect:"follow",referrerPolicy:"no-referrer"});case 2:200===t.sent.status?e.setCurrentScreen("login"):alert("Something went wrong. Try again later.");case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(a.jsxs)("nav",{className:"navbar has-background-light",role:"navigation","aria-label":"main navigation",children:[Object(a.jsxs)("div",{className:"navbar-brand",children:[Object(a.jsx)("a",{className:"navbar-item",href:"https://klanten.foxels.nl",children:Object(a.jsx)("img",{src:"images/logo.png",width:112,height:28,alt:"logo"})}),Object(a.jsxs)("button",{className:"navbar-burger","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample",children:[Object(a.jsx)("span",{"aria-hidden":"true"}),Object(a.jsx)("span",{"aria-hidden":"true"}),Object(a.jsx)("span",{"aria-hidden":"true"})]})]}),Object(a.jsxs)("div",{id:"navbarBasicExample",className:"navbar-menu",children:[Object(a.jsxs)("div",{className:"navbar-start",children:[Object(a.jsx)(A.b,{className:"navbar-item",to:"/",children:"Home"}),Object(a.jsx)("a",{className:"navbar-item",href:"https://webmail.foxels.nl/",target:"_blank",rel:"noreferrer",children:"Email"}),Object(a.jsxs)("div",{className:"navbar-item has-dropdown is-hoverable",children:[Object(a.jsx)("a",{href:"/",className:"navbar-link",children:"More"}),Object(a.jsxs)("div",{className:"navbar-dropdown",children:[Object(a.jsx)("a",{href:"/",className:"navbar-item",children:"About"}),Object(a.jsx)("a",{href:"/",className:"navbar-item",children:"Jobs"}),Object(a.jsx)("a",{href:"/",className:"navbar-item",children:"Contact"}),Object(a.jsx)("hr",{className:"navbar-divider"}),Object(a.jsx)("a",{href:"Mailto:robert@robertboudewijn.nl?subject=FoxManage_Issue",className:"navbar-item",children:"Report an issue"})]})]})]}),Object(a.jsx)("div",{className:"navbar-end",children:Object(a.jsx)("div",{className:"navbar-item",children:Object(a.jsx)("div",{className:"buttons",children:Object(a.jsx)("button",{className:"button is-info is-light is-outlined",onClick:function(){return function(){return t.apply(this,arguments)}()},children:Object(a.jsx)("strong",{children:"Logout"})})})})})]})]})};function M(){return function(){var e=Object(F.a)(E.a.mark((function e(t,s){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P+"users/domains.php",{method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded"},redirect:"follow",referrerPolicy:"no-referrer"});case 2:return a=e.sent,e.next=5,a.json();case 5:return(n=e.sent).status=a.status,t({type:u,payload:{response:n}}),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}()}function _(){return function(){var e=Object(F.a)(E.a.mark((function e(t,s){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P+"users/databases.php",{method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded"},redirect:"follow",referrerPolicy:"no-referrer"});case 2:return a=e.sent,e.next=5,a.json();case 5:return(n=e.sent).status=a.status,t({type:b,payload:{response:n}}),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}()}var U=Object(l.b)((function(e){return{usedData:e.usedData}}),{setUsedData:function(e){return{type:j,payload:{usedData:e}}},getUsedData:function(){return function(){var e=Object(F.a)(E.a.mark((function e(t,s){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P+"users/data.php",{method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded"},redirect:"follow",referrerPolicy:"no-referrer"});case 2:return a=e.sent,e.next=5,a.json();case 5:return(n=e.sent).status=a.status,t({type:j,payload:{response:n}}),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}()}})((function(e){var t=Object(n.useState)("Loading..."),s=Object(I.a)(t,2),c=s[0],r=s[1],i=Object(n.useState)(""),l=Object(I.a)(i,2),o=l[0],d=l[1],j=Object(n.useState)(100),u=Object(I.a)(j,2),b=u[0],h=u[1],m=Object(n.useState)("progress is-primary"),O=Object(I.a)(m,2),x=O[0],p=O[1];return Object(n.useEffect)((function(){function t(){return(t=Object(F.a)(E.a.mark((function t(){var s;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:-1!==e.usedData&&(200===e.usedData.status?(r(e.usedData.usedDirSize+" / "+e.usedData.maxDirSize+" MB"),h(e.usedData.maxDirSize),d(e.usedData.usedDirSize),(s=e.usedData.usedDirSize/e.usedData.maxDirSize*100)>90?p("progress is-danger"):s>75&&p("progress is-warning")):401===e.usedData.status||(d(100),p("progress"),r("Request error.")));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e.usedData]),Object(n.useEffect)((function(){e.getUsedData()}),[e.IP]),Object(a.jsxs)("aside",{className:"menu",style:{minHeight:"70VH"},children:[Object(a.jsx)("p",{className:"menu-label",children:"General"}),Object(a.jsxs)("ul",{className:"menu-list",children:[Object(a.jsx)("li",{children:Object(a.jsx)(A.b,{to:"/",children:"Dashboard"})}),Object(a.jsx)("li",{children:Object(a.jsx)(A.b,{to:"/Facturen",children:"Facturen"})}),Object(a.jsx)("li",{children:Object(a.jsx)(A.b,{to:"/Domains",children:"Domains"})}),Object(a.jsx)("li",{children:Object(a.jsx)(A.b,{to:"/Databases",children:"Databases"})}),Object(a.jsx)("li",{children:Object(a.jsx)(A.b,{to:"/Mailboxes",children:"MailBoxes"})})]}),Object(a.jsx)("p",{className:"menu-label",children:"Data usage:"}),""!==o?Object(a.jsx)("progress",{id:"usedDataSlider",className:x,max:b,value:o}):Object(a.jsx)("progress",{id:"usedDataSlider",className:x,max:b}),Object(a.jsx)("p",{id:"usedDataText",children:c})]})}));var R=function(e){return Object(a.jsx)("footer",{className:"footer has-background-light",children:Object(a.jsx)("div",{className:"content has-text-centered",children:Object(a.jsxs)("p",{children:[Object(a.jsx)("strong",{children:"FoxManage"})," by"," ",Object(a.jsx)("a",{href:"https://robertboudewijn.nl",children:"Robert Boudewijn"}),". The source code is licensed"," ",Object(a.jsx)("a",{href:"https://opensource.org/licenses/BSD-2-Clause",children:"BSD"}),". The website content is licensed"," ",Object(a.jsx)("a",{href:"http://creativecommons.org/licenses/by-nc-sa/4.0/",children:"CC BY NC SA 4.0"}),".",Object(a.jsx)("br",{}),"Copyright 2021 Robert Boudewijn"]})})})},G=s(29);var H=Object(l.b)((function(e){return{usedData:e.usedData,domains:e.domains,databases:e.databases}}),{getDomains:M,getDatabases:_})((function(e){var t=Object(n.useState)(Object(a.jsx)(a.Fragment,{})),s=Object(I.a)(t,2),c=s[0],r=s[1],i=Object(n.useState)(""),l=Object(I.a)(i,2),o=l[0],d=l[1],j=Object(n.useState)(""),u=Object(I.a)(j,2),b=u[0],h=u[1];function m(e){return"object"===typeof e?e.map((function(e){return Object(a.jsx)("li",{children:e},e)})):Object(a.jsx)("li",{children:"Geen gevonden"})}return Object(n.useEffect)((function(){""!==e.usedData&&r(Object(a.jsx)(G.a,{width:400,height:300,chartType:"PieChart",loader:Object(a.jsx)("div",{children:"Loading Chart"}),data:[["Type","Amount"],["Database",e.usedData.usedDirSize-e.usedData.folderUsedDirSize],["Storage",e.usedData.folderUsedDirSize],["Free",e.usedData.maxDirSize-e.usedData.usedDirSize]],options:{title:"Storage",sliceVisibilityThreshold:1e-8},rootProps:{"data-testid":"1"}}))}),[e.usedData]),Object(n.useEffect)((function(){-1===e.domains?e.getDomains():d(e.domains)}),[e.domains]),Object(n.useEffect)((function(){-1===e.databases?e.getDatabases():h(e.databases)}),[e.databases]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{className:"title",children:"Dashboard"}),Object(a.jsxs)("div",{className:"columns",children:[Object(a.jsxs)("div",{className:"column",children:[Object(a.jsx)("h2",{className:"subtitle",children:"Domains:"}),Object(a.jsx)("div",{className:"content",children:Object(a.jsx)("ul",{id:"domains",children:m(o)})}),Object(a.jsx)("h2",{className:"subtitle",children:"Databases:"}),Object(a.jsx)("div",{className:"content",children:Object(a.jsx)("ul",{id:"databases",children:m(b)})})]}),Object(a.jsx)("div",{className:"column is-5-desktop ",children:c})]})]})}));var V=Object(l.b)((function(e){return{facturen:e.facturen}}),{getFacturen:function(){return function(){var e=Object(F.a)(E.a.mark((function e(t,s){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P+"users/facturen.php",{method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded"},redirect:"follow",referrerPolicy:"no-referrer"});case 2:return a=e.sent,e.next=5,a.json();case 5:return(n=e.sent).status=a.status,t({type:m,payload:{response:n}}),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}()}})((function(e){var t=Object(n.useState)(""),s=Object(I.a)(t,2),c=s[0],r=s[1],i=Object(n.useState)(1),l=Object(I.a)(i,2),o=l[0],d=l[1],j=Object(n.useState)(!1),u=Object(I.a)(j,2),b=u[0],h=u[1];function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(""===c)return Object(a.jsx)(a.Fragment,{});var s=e.split(/[- :]/),n=new Date(Date.UTC(s[0],s[1]-1+t,s[2],s[3],s[4],s[5])),r=n.getMonth()+1;return n.getDay()+"-"+r+"-"+n.getFullYear()}return Object(n.useEffect)((function(){-1===e.facturen?e.getFacturen():r(e.facturen)}),[e.facturen]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{className:"title",children:"Facturen"}),function(){if(""===c||1===o)return Object(a.jsx)(a.Fragment,{});var e=0;return Object(a.jsxs)("div",{className:b?"modal is-active":"modal",children:[Object(a.jsx)("div",{className:"modal-background"}),Object(a.jsxs)("div",{className:"modal-card",children:[Object(a.jsxs)("header",{className:"modal-card-head",children:[Object(a.jsxs)("p",{className:"modal-card-title",children:["Factuur ",o.id]}),Object(a.jsx)("button",{className:"delete","aria-label":"close",onClick:function(){h(!1),d(1)}})]}),Object(a.jsx)("section",{className:"modal-card-body",id:"factuurbody",children:Object(a.jsxs)("div",{className:"content",children:[Object(a.jsxs)("div",{className:"columns",children:[Object(a.jsxs)("p",{className:"column",children:["Dhr. of mw. ",o.userinfo.firstName," ",o.userinfo.lastName," ",Object(a.jsx)("br",{}),o.userinfo.adress," ",o.userinfo.number,Object(a.jsx)("br",{}),o.userinfo.zipcode," ",o.userinfo.city,Object(a.jsx)("br",{}),o.userinfo.country]}),Object(a.jsx)("div",{className:"column"}),Object(a.jsxs)("div",{className:"column",children:[Object(a.jsxs)("p",{children:["Robert Boudewijn ",Object(a.jsx)("br",{}),"Robert@robertboudewijn.nl",Object(a.jsx)("br",{}),"Paasberg 32"]}),Object(a.jsx)("p",{children:m(o.date)})]})]}),Object(a.jsx)("hr",{}),Object(a.jsxs)("table",{className:"table is-fullwidth is-striped is-hoverable",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Aantal"}),Object(a.jsx)("th",{children:"Beschrijving"}),Object(a.jsx)("th",{children:"Prijs per eenheid"}),Object(a.jsx)("th",{children:"Toaal"})]})}),Object(a.jsx)("tbody",{children:o.products.map((function(t){return e+=t.price*t.amount,Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:t.amount}),Object(a.jsx)("td",{children:t.productname}),Object(a.jsxs)("td",{children:["\u20ac",t.price.replace(".",",")]}),Object(a.jsxs)("td",{children:["\u20ac",(t.price*t.amount).toFixed(2).replace(".",",")]})]},t.productname)}))}),Object(a.jsx)("tfoot",{children:[Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{}),Object(a.jsx)("th",{children:"Subtotaal"}),Object(a.jsx)("th",{}),Object(a.jsxs)("th",{children:["\u20ac",e.toFixed(2).replace(".",",")]})]},"subtotaal"),Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{}),Object(a.jsx)("th",{children:"BTW"}),Object(a.jsx)("th",{}),Object(a.jsx)("th",{})]},"btw"),Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{}),Object(a.jsx)("th",{children:Object(a.jsxs)("b",{children:["Totaal te betalen voor: ",m(o.date,1)," "]})}),Object(a.jsx)("th",{}),Object(a.jsxs)("th",{children:["\u20ac",e.toFixed(2).replace(".",",")]})]},"totaal")]})]}),Object(a.jsx)("p",{children:"Bedankt voor uw bestelling."}),Object(a.jsx)("hr",{}),Object(a.jsxs)("p",{children:["We verzoeken u vriendelijk het bovenstaande bedrag van \u20ac",e.toFixed(2).replace(".",",")," voor"," ",m(o.date,1)," te voldoen op onze bankrekening NL59 INGB 0752 8624 21 ten name van Robert Boudewijn onder vermelding van \u201cFactuurnr: ",o.id,"\u201d. Voor vragen kunt u contact opnemen per e-mail."]})]})}),Object(a.jsx)("footer",{className:"modal-card-foot",children:Object(a.jsx)("button",{className:"button is-success",onClick:function(){return function(e,t){var s=window.open("","PRINT","height=600,width=800");return s.document.write("<html><head><title>"+document.title+'</title> <link rel="stylesheet" href="css/bulma.css"> <link rel="stylesheet" href="css/ccss.css"><script src="https://kit.fontawesome.com/ae33e372bf.js" crossorigin="anonymous"><\/script>'),s.document.write("</head><body >"),s.document.write('<section><div class="container CS-has-padding-left-3 CS-has-padding-right-3 CS-has-padding-top-3 "> <h1 class="title is-4">'+t+"</h1>"),s.document.write(document.getElementById(e).innerHTML),s.document.write("</div></section></body></html>"),s.document.close(),s.focus(),s.print(),!0}("factuurbody","Factuur nr: "+o.id)},children:"Download"})})]})]})}(),""===c?Object(a.jsx)("h4",{className:"subtitle",children:"Laden..."}):Object(a.jsxs)("table",{className:"table is-fullwidth is-striped is-hoverable",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:Object(a.jsx)("abbr",{title:"Factuurnummer",children:"Nr"})}),Object(a.jsx)("th",{children:Object(a.jsx)("abbr",{title:"date",children:"Datum"})}),Object(a.jsx)("th",{children:Object(a.jsx)("abbr",{title:"payed",children:"Betaald"})})]})}),Object(a.jsx)("tbody",{children:c.map((function(e){return Object(a.jsxs)("tr",{className:o===e?"is-selected is-clickable":"is-clickable",onClick:function(){d(e),h(!0)},children:[Object(a.jsx)("td",{children:e.id}),Object(a.jsx)("td",{children:m(e.date)}),Object(a.jsx)("td",{children:1===e.payed?"Ja":"Nee"})]},e.date)}))})]})]})}));var W=function(e){var t=Object(n.useState)(""),s=Object(I.a)(t,2),c=s[0],r=s[1],i=Object(n.useState)(!1),l=Object(I.a)(i,2),o=l[0],d=l[1],j=Object(n.useState)(!0),u=Object(I.a)(j,2),b=u[0],h=u[1],m=[";","select","drop","alter","delete","update","create"," "];function O(){r(""),d(!1),h(!0),e.setModalActive(!1)}function x(){return(x=Object(F.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(P+"databases.php?name="+c,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},redirect:"follow",referrerPolicy:"no-referrer"});case 2:201===t.sent.status&&(O(),e.refreshDatabasesList());case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(a.jsxs)("div",{className:e.modalActive?"modal is-active":"modal",children:[Object(a.jsx)("div",{className:"modal-background"}),Object(a.jsxs)("div",{className:"modal-card",children:[Object(a.jsxs)("header",{className:"modal-card-head",children:[Object(a.jsx)("p",{className:"modal-card-title",children:"Nieuwe database"}),Object(a.jsx)("button",{className:"delete","aria-label":"close",onClick:O})]}),Object(a.jsx)("section",{className:"modal-card-body",children:Object(a.jsxs)("div",{className:"content",children:[function(){if(o)return Object(a.jsxs)("div",{className:"notification is-warning",children:[Object(a.jsxs)("p",{children:["De naam van uw nieuwe database mag niet langer dan 50 tekens zijn en mag de volgende karaters of woorden ",Object(a.jsx)("b",{children:"niet"})," bevatten:"]}),Object(a.jsx)("ul",{className:"columns is-flex-wrap-wrap",children:m.map((function(e){return" "===e?Object(a.jsx)("li",{className:"column is-3",children:"spatie"},"spatie"):Object(a.jsxs)("li",{className:"column is-3",children:['"',e,'"']},e)}))})]})}(),Object(a.jsxs)("div",{className:"field",children:[Object(a.jsx)("label",{className:"label has-text-left",htmlFor:"username",children:"Database naam"}),Object(a.jsx)("input",{autoFocus:!0,className:"input",id:"newDatabaseName",placeholder:"Database naam",type:"text",value:c,onChange:function(e){var t=e.target.value;r(t),d(!1),t.length<1||t.length>50?(h(!0),d(!0)):h(!1),m.forEach((function(e){t.toLowerCase().includes(e)&&(d(!0),h(!0))}))}})]})]})}),Object(a.jsxs)("footer",{className:"modal-card-foot columns",children:[Object(a.jsx)("div",{className:"column"}),Object(a.jsx)("div",{className:"column is-5",children:Object(a.jsxs)("div",{className:"buttons",children:[Object(a.jsxs)("button",{className:"button is-small is-danger is-outlined",onClick:O,children:[Object(a.jsx)("span",{className:"icon is-small",children:Object(a.jsx)("i",{className:"fas fa-times"})}),Object(a.jsx)("span",{children:"Annuleer"})]}),Object(a.jsxs)("button",{className:"button is-small is-success",onClick:function(){return x.apply(this,arguments)},disabled:b,children:[Object(a.jsx)("span",{className:"icon is-small",children:Object(a.jsx)("i",{className:"fas fa-plus"})}),Object(a.jsx)("span",{children:"Nieuwe opslaan"})]})]})})]})]})]})};var J=function(e){var t=Object(l.d)((function(e){return e.databases})),s=Object(l.c)(),c=Object(n.useState)(!1),r=Object(I.a)(c,2),i=r[0],o=r[1];function d(){alert("We are sorry, but it seems like this feature is not implemented yet.")}function j(){alert("We are sorry, but it seems like this feature is not implemented yet.")}function u(){return(u=Object(F.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Weet je zeker dat je "+t+" wilt verwijderen?")){e.next=6;break}return e.next=3,fetch(P+"databases.php?name="+t,{method:"delete",mode:"cors",headers:{"Content-Type":"application/x-www-form-urlencoded"},redirect:"follow",referrerPolicy:"no-referrer"});case 3:200===e.sent.status&&alert("Database verwijderd!"),s(_());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){-1===t&&s(_())}),[t]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(W,{modalActive:i,setModalActive:o,refreshDatabasesList:function(){return s(_())}}),Object(a.jsx)("h1",{className:"title",children:"Databases"}),Object(a.jsx)("p",{children:"Hier kunt u nieuwe databases maken of bestaande databases beheren."}),Object(a.jsx)("br",{}),Object(a.jsxs)("button",{className:"button is-small is-success",onClick:function(){o(!0)},children:[Object(a.jsx)("span",{className:"icon is-small",children:Object(a.jsx)("i",{className:"fas fa-plus"})}),Object(a.jsx)("span",{children:"Nieuwe database"})]}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),function(){if(-1!==t){var e=Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Naam"}),Object(a.jsx)("th",{children:"Sql-dump"}),Object(a.jsx)("th",{children:"Kopieer"}),Object(a.jsx)("th",{children:"Drop database"})]})}),s=Object(a.jsx)("tbody",{children:t.map((function(e){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:e}),Object(a.jsx)("th",{children:Object(a.jsxs)("button",{className:"button is-small is-info is-light is-outlined",onClick:d,children:[Object(a.jsx)("span",{className:"icon is-small",children:Object(a.jsx)("i",{className:"fas fa-download"})}),Object(a.jsx)("span",{children:"Download"})]})}),Object(a.jsx)("th",{children:Object(a.jsxs)("button",{className:"button is-small is-info is-light is-outlined",onClick:j,children:[Object(a.jsx)("span",{className:"icon is-small",children:Object(a.jsx)("i",{className:"fas fa-copy"})}),Object(a.jsx)("span",{children:"Kopieer en hernoem"})]})}),Object(a.jsx)("th",{children:Object(a.jsxs)("button",{className:"button is-small is-danger is-outlined",onClick:function(){return function(e){return u.apply(this,arguments)}(e)},children:[Object(a.jsx)("span",{className:"icon is-small",children:Object(a.jsx)("i",{className:"fas fa-times"})}),Object(a.jsx)("span",{children:"Verwijder"})]})})]},e)}))});return Object(a.jsxs)("table",{className:"table is-hoverable ",children:[e,s]})}}()]})};var X=function(e){var t=Object(l.d)((function(e){return e.domains})),s=Object(l.c)();return Object(n.useEffect)((function(){-1===t&&s(M())}),[t]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{className:"title",children:"Domains"}),t]})};var q=function(e){var t=Object(l.d)((function(e){return e.mailboxes})),s=Object(l.c)();return Object(n.useEffect)((function(){-1===t&&s(function(){var e=Object(F.a)(E.a.mark((function e(t,s){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P+"users/mailboxes.php",{method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded"},redirect:"follow",referrerPolicy:"no-referrer"});case 2:return a=e.sent,e.next=5,a.json();case 5:return(n=e.sent).status=a.status,t({type:h,payload:{response:n}}),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}())}),[t]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{className:"title",children:"Mailboxes"}),t]})};var K=function(e){return Object(a.jsxs)(A.a,{children:[Object(a.jsx)(z,{IP:e.IP,setCurrentScreen:e.setCurrentScreen}),Object(a.jsx)("section",{children:Object(a.jsxs)("div",{className:"columns",children:[Object(a.jsx)("div",{className:"column is-2 has-background-light CS-has-padding-2",children:Object(a.jsx)(U,{IP:e.IP})}),Object(a.jsx)("div",{className:"column",children:Object(a.jsx)("div",{className:"container CS-has-padding-1",children:Object(a.jsxs)(L.c,{children:[Object(a.jsx)(L.a,{path:"/Facturen",children:Object(a.jsx)(V,{})}),Object(a.jsx)(L.a,{path:"/Domains",children:Object(a.jsx)(X,{IP:e.IP})}),Object(a.jsx)(L.a,{path:"/Databases",children:Object(a.jsx)(J,{IP:e.IP})}),Object(a.jsx)(L.a,{path:"/Mailboxes",children:Object(a.jsx)(q,{IP:e.IP})}),Object(a.jsx)(L.a,{path:"/",children:Object(a.jsx)(H,{IP:e.IP})})]})})})]})}),Object(a.jsx)(R,{})]})},Y=function(e){Object(k.a)(s,e);var t=Object(C.a)(s);function s(e){var a;return Object(y.a)(this,s),(a=t.call(this,e)).state={IP:P,currentScreen:"login"},a.setCurrentScreen=a.setCurrentScreen.bind(Object(S.a)(a)),a}return Object(D.a)(s,[{key:"setCurrentScreen",value:function(e){this.setState({currentScreen:e})}},{key:"render",value:function(){switch(this.state.currentScreen){case"login":return Object(a.jsx)(B,{IP:this.state.IP,setCurrentScreen:this.setCurrentScreen});case"index":return Object(a.jsx)(K,{IP:this.state.IP,setCurrentScreen:this.setCurrentScreen})}}}]),s}(c.a.Component);i.a.render(Object(a.jsx)(l.a,{store:g,children:Object(a.jsx)(Y,{})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.8355b0b5.chunk.js.map